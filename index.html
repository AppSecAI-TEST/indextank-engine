<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Indextank-engine : Indexing engine for IndexTank" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Indextank-engine</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/linkedin/indextank-engine">Fork Me on GitHub</a>

          <h1 id="project_title">Indextank-engine</h1>
          <h2 id="project_tagline">Indexing engine for IndexTank</h2>

          <section id="downloads">
            <a class="zip_download_link" href="https://github.com/linkedin/indextank-engine/zipball/master">Download this project as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/linkedin/indextank-engine/tarball/master">Download this project as a tar.gz file</a>
          </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>About IndexTank Engine</h1>

<p>This project contains IndexTank (<a href="http://indextank.com">http://indextank.com</a>) search engine implementation.
Includes features like variables (boosts), categories (facets), faceted search, snippeting, custom scoring functions, suggest, and autocomplete.</p>

<p>For IndexTank's full administrative stack (which makes use of this engine) see <a href="http://github.com/linkedin/indextank-service">http://github.com/linkedin/indextank-service</a></p>

<h3>Homepage:</h3>

<p>Find out more about at: TBD</p>

<h3>License:</h3>

<p>Apache Public License (APL) 2.0</p>

<h3>Artifacts:</h3>

<ol>
<li>indextank-engine-1.0.0.jar &lt;-- core library</li>
</ol><h3>Maven:</h3>

<p>groupId: com.flaptor.indextank</p>

<p>artifactId: indextank-engine</p>

<p>version: 1.0.0</p>

<h2>Package generation:</h2>

<p>Build a single jar containing all dependencies by:</p>

<pre><code>$ mvn compile package assembly:single
</code></pre>

<p>This will create a single file in:</p>

<pre><code>target/indextank-engine-1.0.0-jar-with-dependencies.jar
</code></pre>

<h2>Quick start with the standalone REST API</h2>

<p>You can try basic indexing and searching</p>

<p>Main class: com.flaptor.indextank.api.Launcher</p>

<p>After running the package generation:</p>

<pre><code>$ java -cp target/indextank-engine-1.0.0-jar-with-dependencies.jar com.flaptor.indextank.api.Launcher
</code></pre>

<p>This command starts an API server (<a href="http://www.indextank.com/documentation/api">http://www.indextank.com/documentation/api</a>) at port 20220.
The indexing and searching can be done with any client or for example, via curl:</p>

<pre><code>$ curl -d "{\"docid\":\"post1\", \"fields\":{\"text\":\"I love Fallout\"}}" -v -X PUT http://localhost:20220/v1/indexes/idx/docs

$ curl -d "{\"docid\":\"post2\", \"fields\":{\"text\":\"I love Planescape\"}}" -v -X PUT http://localhost:20220/v1/indexes/idx/docs

$ curl http://localhost:20220/v1/indexes/idx/search?q=love
</code></pre>

<h2>API Clients (compatible with the embedded API)</h2>

<p>Java: <a href="https://github.com/flaptor/indextank-java">https://github.com/flaptor/indextank-java</a></p>

<p>Python: <a href="https://github.com/flaptor/indextank-py">https://github.com/flaptor/indextank-py</a></p>

<p>Ruby: <a href="https://github.com/flaptor/indextank-rb">https://github.com/flaptor/indextank-rb</a></p>

<p>PHP: <a href="https://github.com/flaptor/indextank-php">https://github.com/flaptor/indextank-php</a></p>

<h2>Thrift API sample configuration:</h2>

<p>Main class: com.flaptor.indextank.index.IndexEngine</p>

<p>VM args:</p>

<pre><code>-XX:+UseConcMarkSweepGC -XX:+UseParNewGC -Dorg.apache.lucene.FSDirectory.class=org.apache.lucene.store.MMapDirectory -Xmx600M
</code></pre>

<p>Program args:</p>

<pre><code>--facets --rti-size 500 --conf-file sample-engine-config --port 20220 --environment-prefix TEST --recover --dir index --snippets --suggest documents --boosts 3 --index-code dgmqn --functions 0:-age
</code></pre>

<p>Sample engine configuration file contents:</p>

<pre><code>{
"max_variables": 3, 
"functions": {"0": "-age"}, 
"index_code": "dgmqn", 
"allows_facets": true, 
"ram": 600, 
"log_server_host": "index123.localhost", 
"autocomplete": true,
"log_server_port": 15100, 
"autocomplete_type": "documents",
"allows_snippets": true, 
"rti_size": 500, 
"facets_bits": 5, 
"base_port": 20220, 
"log_based_storage": false, 
"xmx": 600
}
</code></pre>

<h2>Tests:</h2>

<p>Execute the following command to run:</p>

<pre><code>mvn test
</code></pre>

<p>Avoid running tests by adding:</p>

<pre><code>mvn -Dmaven.test.skip=true compile
</code></pre>

<h2>Eclipse:</h2>

<p>Set up Eclipse for this project by executing the command below:</p>

<pre><code>mvn eclipse:eclipse
</code></pre>

<p>Inside Eclipse, select Preferences &gt; Java &gt; Build Path &gt; Classpath Variables. Define a new classpath variable M2_REPO and assign maven repository.</p>

<p>For more information, check out <a href="http://maven.apache.org/guides/mini/guide-ide-eclipse.html">http://maven.apache.org/guides/mini/guide-ide-eclipse.html</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Indextank-engine maintained by <a href="https://github.com/linkedin">linkedin</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
